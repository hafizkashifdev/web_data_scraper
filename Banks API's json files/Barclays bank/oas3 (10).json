{"openapi":"3.0.0","info":{"title":"Rewards Loyalty Sync","description":"Enables a secure way to sync a customers loyalty status information with Barclays","version":"1.0"},"servers":[{"url":"https://sandbox-api.barclaysus.com:443/sandbox/rewards-loyalty-synch/v1"}],"paths":{"/cards/accounts/rewards/loyaltyTier/update":{"post":{"tags":["tier-update-xapi"],"summary":"Perform tier update","operationId":"updateTierUsingPOST","parameters":[{"name":"Correlation-ID","in":"header","description":"Correlation-ID","required":true,"schema":{"type":"string","description":"Correlation-ID"}},{"name":"Authorization","in":"header","description":"Authorization","required":true,"schema":{"type":"string","description":"Authorization"}}],"requestBody":{"description":"loyaltyTierRequestData","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoyaltyTierRequestData"}}},"required":true},"responses":{"200":{"description":"Fully Accepted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoyaltyTierResponseData"}}}},"400":{"description":"The request could not be understood by the server due to malformed syntax. The client SHOULD NOT repeat the request without modifications.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseType"}}}},"401":{"description":"The user could not be authenticated for this request.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseType"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseType"}}}},"403":{"description":"The user is not permitted to access the requested operation and it cannot be completed.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseType"}}}},"404":{"description":"Server has not found a resource with that URI. This may be temporary and permanent condition. This status code is commonly used when the server does not wish to reveal exactly why the request has been refused, or when no other response is applicable.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseType"}}}},"503":{"description":"Temporary maintenance of service, try again later. The implication is that this is a temporary condition which will be alleviated after some delay. Note: The existence of the 503 status code does not imply that a server will use it when becoming overloaded. Servers may simply refuse the connection.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseType"}}}}},"deprecated":false}}},"components":{"schemas":{"TierUpdateStatus":{"required":["externalAccountId","status"],"type":"object","properties":{"externalAccountId":{"type":"string","description":"Common card account identifier agreed between GAP and Barclays, unique per card. Generated at Barclays during card apply/conversion process and provided to GAP to be stored for further communication with Barclays.","example":"2286f91c-f7a8-3771-8e62-cb4833aeb740"},"status":{"type":"string","description":"Indicates whether tier update request specific to EAID has been processed successfully or declined due to any of the multiple errors mentioned in Error Codes sheet.","example":"Accepted"},"errors":{"$ref":"#/components/schemas/ErrorDetails"}},"description":"Contains tier code update success/failure status for each account."},"ErrorType":{"title":"ErrorType","required":["code","id","title"],"type":"object","properties":{"code":{"type":"string","description":"Machine readable, unique code of the message related to particular case within operation execution.","example":"ACCOUNT_NUMBER_NOT_FOUND"},"detail":{"type":"string","description":"Provides additional low-level details about the error to assist with troubleshooting. Not for displaying purposes."},"id":{"type":"string","description":"Generated message identifier for particular request, helping to locate server logs.","example":"1c4717c4-d4a5-e3f3-4a71-b868908763ff"},"title":{"type":"string","description":"Short description of the error. Not for displaying purposes.","example":"The authorization credentials required for this request are invalid."}},"description":"Message details - additional operation execution information."},"LoyaltyTierResponse":{"required":["tierUpdateStatusList"],"type":"object","properties":{"tierUpdateStatusList":{"type":"array","description":"List of tierUpdateStatus objects per unique EAID under one loyalty program, which contains information about the status of tier update request processed at Barclays.","items":{"$ref":"#/components/schemas/TierUpdateStatus"}}},"description":"Loyalty Tier Response Data"},"ErrorResponseType":{"title":"ErrorResponseType","type":"object","properties":{"errors":{"type":"array","description":"Contains one or more error messages and is mutually exclusive with the data item. This will not be returned in success scenarios.","items":{"$ref":"#/components/schemas/ErrorType"}},"meta":{"type":"object","properties":{},"description":"Contains Non-standard meta information"}},"description":"An API error response. "},"LoyaltyTierResponseData":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/LoyaltyTierResponse"}},"description":"Loyalty Tier Update Response Data"},"LoyaltyTierRequestData":{"title":"LoyaltyTierRequestData","type":"object","properties":{"data":{"$ref":"#/components/schemas/LoyaltyTierRequest"}},"description":"Loyalty Tier Update Request Data"},"ErrorDetails":{"type":"object","properties":{"code":{"type":"string","description":"Error code describing the type of HTTP error."},"detail":{"type":"string","description":"A brief message describing the reason for failure to assist with troubleshooting."}},"description":"Contains error information if the requested upgrade/downgrade is declined."},"LoyaltyTierRequest":{"title":"LoyaltyTierRequest","required":["tierUpdateRequestList","transactionReferenceId"],"type":"object","properties":{"tierUpdateRequestList":{"type":"array","items":{"$ref":"#/components/schemas/TierUpdateRequest"}},"transactionReferenceId":{"type":"string"}},"description":"Loyalty Tier Request Data"},"TierUpdateRequest":{"title":"TierUpdateRequest","required":["externalAccountId","last4OfCardNumber","newTierCode"],"type":"object","properties":{"currentTierCode":{"type":"string"},"externalAccountId":{"type":"string","example":"2286f91c-f7a8-3771-8e62-cb4833aeb740"},"issueCard":{"type":"boolean"},"last4OfCardNumber":{"type":"string","example":"4556"},"memberId":{"type":"string"},"newTierCode":{"type":"string","example":"ICON"},"newTierCodeExpiryDate":{"type":"string"}},"description":"Contains account information, current and new tier codes etc."}}}}