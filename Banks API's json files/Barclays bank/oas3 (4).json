{"openapi":"3.0.0","info":{"title":"Dynamic Client Registration","description":"On-board to Barclays API Exchange using an EIDAS certificate, and retrieve credentials to consume our PSD2 APIs.","version":"v1.10"},"servers":[{"url":"https://telesto.api.barclays:443/eidas/v1.0"}],"paths":{"/register":{"post":{"description":"This endpoint enables a TPP to submit a request to Barclays, for the purpose of creating OAuth clients, that are registered with Barclays Authorization server.","operationId":"post_register","parameters":[{"name":"Correlation-ID","in":"header","description":"An identifier for the current call chain that can be used to tie together log entries on multiple layers (e.g. client, server, mainframe). This identifier must be designed to be unique across all applications in the bank.","required":true,"schema":{"maxLength":64,"minLength":16,"pattern":"^[a-zA-Z0-9-+/=_]{16,64}$","type":"string","description":"An identifier for the current call chain that can be used to tie together log entries on multiple layers (e.g. client, server, mainframe). This identifier must be designed to be unique across all applications in the bank."}},{"name":"X-Forwarded-For","in":"header","description":"IP Address of requesting client","required":false,"schema":{"maxLength":4094,"minLength":7,"pattern":"^(?!\\s)([0-9a-z.,:\\s]{7,4094})$","type":"string","description":"IP Address of requesting client"}},{"name":"X-SSLClientCert","in":"header","description":"EIDAS client certificate from Mutual TLS","required":false,"schema":{"maxLength":8192,"minLength":1,"pattern":"^(?!\\s)([a-zA-Z0-9-+\\/=]{1,8192})$","type":"string","description":"EIDAS client certificate from Mutual TLS"}},{"name":"X-SSLClientCertDN","in":"header","description":"EIDAS certificate DN","required":true,"schema":{"maxLength":1024,"minLength":1,"pattern":"^(?!\\s)([a-zA-Z0-9-.,@_%\\/=\\s]{1,1024})$","type":"string","description":"EIDAS certificate DN"}},{"name":"X-SSLClientCertIssuerDN","in":"header","description":"EIDAS certificate Issuer DN","required":true,"schema":{"maxLength":1024,"minLength":1,"pattern":"^(?!\\s)([a-zA-Z0-9-.,@_%\\/=\\s\\\\]{1,1024})$","type":"string","description":"EIDAS certificate Issuer DN"}},{"name":"X-SSLClientCertSN","in":"header","description":"EIDAS certificate Serial Number","required":true,"schema":{"maxLength":256,"minLength":1,"pattern":"^(?!\\s)([\\w.:\\s]{1,256})$","type":"string","description":"EIDAS certificate Serial Number"}},{"name":"X-SSLClientCertChain","in":"header","description":"EIDAS certificate chain as  it received as part of Mutual TLS","required":false,"schema":{"maxLength":8192,"minLength":1,"pattern":"^(?!\\s)([a-zA-Z0-9-+\\/=\\s]{1,8192})$","type":"string","description":"EIDAS certificate chain as  it received as part of Mutual TLS"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DCRRequestType"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DCRResponseType"}}}},"400":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostRegister400Response"}}}},"500":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostRegister500Response"}}}},"503":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}},"429":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostRegister429Response"}}}}}}}},"components":{"schemas":{"PostRegister400Response":{"required":["error"],"type":"object","properties":{"error_description":{"type":"string"},"error":{"type":"string"}}},"JWKSObjectType":{"required":["keys"],"type":"object","properties":{"keys":{"maxItems":100,"minItems":1,"type":"array","items":{"type":"object"}}}},"PostRegister500Response":{"required":["error"],"type":"object","properties":{"error_description":{"type":"string"},"error":{"type":"string"}}},"PostRegister429Response":{"required":["error"],"type":"object","properties":{"error_description":{"type":"string"},"error":{"type":"string"}}},"SYMKEYType":{"required":["k","kid","kty","use","x5c"],"type":"object","properties":{"kty":{"type":"string","enum":["RSA","EC","oct"]},"x5t#S256":{"maxLength":128,"minLength":1,"pattern":"^(?!\\s)([\\w=\\/+-]{1,128})$","type":"string"},"use":{"maxLength":16,"minLength":1,"pattern":"^(?!\\s)([\\w-]{1,16})$","type":"string"},"x5t":{"maxLength":128,"minLength":1,"pattern":"^(?!\\s)([\\w=\\/+-]{1,128})$","type":"string"},"x5c":{"maxItems":10,"minItems":1,"type":"array","items":{"maxLength":4096,"minLength":1,"pattern":"^(?!\\s)([a-zA-Z0-9-+\\/=]{1,4096})$","type":"string"}},"kid":{"maxLength":512,"minLength":1,"pattern":"^(?!\\s)([\\w=\\/+-]{1,512})$","type":"string"},"key_ops":{"maxItems":10,"minItems":1,"type":"array","items":{"maxLength":16,"minLength":1,"pattern":"^(?!\\s)([\\w-]{1,16})$","type":"string"}},"x5t#256":{"maxLength":128,"minLength":1,"pattern":"^(?!\\s)([\\w=\\/+-]{1,128})$","type":"string"},"x5u":{"maxLength":263,"minLength":9,"pattern":"^(?!\\s)(https\\:\\/\\/[A-Za-z0-9.#&=%\\?\\-:\\/_\\s]{1,255})$","type":"string"},"k":{"maxLength":2048,"minLength":1,"pattern":"^(?!\\s)([\\w=\\/+-]{1,2048})$","type":"string"},"alg":{"maxLength":32,"minLength":1,"pattern":"^(?!\\s)([\\w+-]{1,32})$","type":"string"}}},"DCRRequestType":{"required":["client_name","contacts","grant_types","redirect_uris","response_types","scope","token_endpoint_auth_method"],"type":"object","properties":{"token_endpoint_auth_signing_alg":{"type":"string","enum":["PS256"]},"client_uri":{"maxLength":263,"minLength":9,"pattern":"^(?!\\s)(https\\:\\/\\/[A-Za-z0-9.#&=%\\?\\-:\\/_\\s]{1,255})$","type":"string"},"jwks":{"$ref":"#/components/schemas/JWKSObjectType"},"grant_types":{"maxItems":10,"minItems":1,"type":"array","items":{"type":"string","enum":["client_credentials","authorization_code","implicit","refresh_token","urn:ietf:params:oauth:grant-type:jwt-bearer"]}},"application_type":{"type":"string","enum":["web","mobile"]},"logo_uri":{"maxLength":263,"minLength":9,"pattern":"^(?!\\s)(https\\:\\/\\/[A-Za-z0-9.#&=%\\?\\-:\\/_\\s]{1,255})$","type":"string"},"tls_client_auth_subject_dn":{"maxLength":128,"minLength":1,"pattern":"^(?!\\s)([a-zA-Z0-9.\\-\\s]{1,128})$","type":"string"},"redirect_uris":{"maxItems":10,"minItems":1,"type":"array","items":{"maxLength":263,"minLength":8,"pattern":"^(?!\\s)(https|http)(\\:\\/\\/)([A-Za-z0-9.#&=%\\?\\-:\\/_\\s]{1,255})$","type":"string"}},"token_endpoint_auth_method":{"type":"string","enum":["private_key_jwt"]},"software_id":{"maxLength":22,"minLength":1,"pattern":"^(?!\\s)([\\w]{1,22})$","type":"string"},"scope":{"maxLength":256,"minLength":1,"pattern":"^(?!\\s)([a-zA-Z0-9.\\-\\s]{1,256})$","type":"string"},"jwks_uri":{"maxLength":263,"minLength":9,"pattern":"^(?!\\s)(https\\:\\/\\/[A-Za-z0-9.#&=%\\?\\-:\\/_\\s]{1,255})$","type":"string"},"tos_uri":{"maxLength":263,"minLength":9,"pattern":"^(?!\\s)(https\\:\\/\\/[A-Za-z0-9.#&=%\\?\\-:\\/_\\s]{1,255})$","type":"string"},"software_version":{"maxLength":128,"minLength":1,"pattern":"^(?!\\s)([a-zA-Z0-9.\\-\\s]{1,128})$","type":"string"},"request_object_signing_alg":{"type":"string","enum":["PS256"]},"client_name":{"maxLength":64,"minLength":1,"pattern":"^(?!\\s)([\\w\\s$£\"ÖÄÜß\"öäü!@#,.§$-]{1,64})$","type":"string"},"contacts":{"maxItems":10,"minItems":1,"type":"array","items":{"maxLength":256,"minLength":5,"pattern":"^(?=.{1,256}$)^([a-zA-Z0-9.!#$%&'*+\\/=?^_`~-]{1,64})@(([a-zA-Z0-9-]{1,180}(\\.[a-zA-Z0-9-]{1,62}){1,9}))$","type":"string"}},"policy_uri":{"maxLength":263,"minLength":9,"pattern":"^(?!\\s)(https\\:\\/\\/[A-Za-z0-9.#&=%\\?\\-:\\/_\\s]{1,255})$","type":"string"},"response_types":{"maxItems":10,"minItems":1,"type":"array","items":{"type":"string","enum":["code","token","id_token","id_token token","code id_token","code token","code id_token token","none"]}},"id_token_signed_response_alg":{"type":"string","enum":["PS256"]}}},"RSAKEYType":{"required":["e","kid","kty","n","use","x5c"],"type":"object","properties":{"oth":{"type":"array","items":{"type":"object","properties":{"r":{"maxLength":2048,"minLength":0,"pattern":"^(?!\\s)([\\w=\\/+-]{0,2048})$","type":"string"},"d":{"maxLength":2048,"minLength":0,"pattern":"^(?!\\s)([\\w=\\/+-]{0,2048})$","type":"string"},"t":{"maxLength":2048,"minLength":0,"pattern":"^(?!\\s)([\\w=\\/+-]{0,2048})$","type":"string"}}}},"d":{"maxLength":2048,"minLength":0,"pattern":"^(?!\\s)([\\w=\\/+-]{0,2048})$","type":"string"},"e":{"maxLength":16,"minLength":1,"pattern":"^(?!\\s)([\\w=\\/+-]{1,16})$","type":"string"},"use":{"maxLength":16,"minLength":1,"pattern":"^(?!\\s)([\\w-]{1,16})$","type":"string"},"x5c":{"maxItems":10,"minItems":1,"type":"array","items":{"maxLength":4096,"minLength":1,"pattern":"^(?!\\s)([a-zA-Z0-9-+\\/=]{1,4096})$","type":"string"}},"kid":{"maxLength":512,"minLength":1,"pattern":"^(?!\\s)([\\w=\\/+-]{1,512})$","type":"string"},"x5t#256":{"maxLength":128,"minLength":1,"pattern":"^(?!\\s)([\\w=\\/+-]{1,128})$","type":"string"},"dp":{"maxLength":2048,"minLength":0,"pattern":"^(?!\\s)([\\w=\\/+-]{0,2048})$","type":"string"},"dq":{"maxLength":2048,"minLength":0,"pattern":"^(?!\\s)([\\w=\\/+-]{0,2048})$","type":"string"},"n":{"maxLength":2048,"minLength":1,"pattern":"^(?!\\s)([\\w=\\/+-]{1,2048})$","type":"string"},"p":{"maxLength":2048,"minLength":0,"pattern":"^(?!\\s)([\\w=\\/+-]{0,2048})$","type":"string"},"kty":{"type":"string","enum":["RSA","EC","oct"]},"x5t#S256":{"maxLength":128,"minLength":1,"pattern":"^(?!\\s)([\\w=\\/+-]{1,128})$","type":"string"},"q":{"maxLength":2048,"minLength":0,"pattern":"^(?!\\s)([\\w=\\/+-]{0,2048})$","type":"string"},"x5t":{"maxLength":128,"minLength":1,"pattern":"^(?!\\s)([\\w=\\/+-]{1,128})$","type":"string"},"key_ops":{"maxItems":10,"minItems":1,"type":"array","items":{"maxLength":16,"minLength":1,"pattern":"^(?!\\s)([\\w-]{1,16})$","type":"string"}},"qi":{"maxLength":2048,"minLength":0,"pattern":"^(?!\\s)([\\w=\\/+-]{0,2048})$","type":"string"},"x5u":{"maxLength":263,"minLength":9,"pattern":"^(?!\\s)(https\\:\\/\\/[A-Za-z0-9.#&=%\\?\\-:\\/_\\s]{1,255})$","type":"string"},"alg":{"maxLength":32,"minLength":1,"pattern":"^(?!\\s)([\\w+-]{1,32})$","type":"string"}}},"ECKEYType":{"required":["crv","kid","kty","use","x","x5c","y"],"type":"object","properties":{"d":{"maxLength":512,"minLength":0,"pattern":"^(?!\\s)([\\w]{0,512})$","type":"string"},"use":{"maxLength":16,"minLength":1,"pattern":"^(?!\\s)([\\w-]{1,16})$","type":"string"},"crv":{"type":"string","enum":["P-256","P-384","P-521"]},"x5c":{"maxItems":10,"minItems":1,"type":"array","items":{"maxLength":4096,"minLength":1,"pattern":"^(?!\\s)([a-zA-Z0-9-+\\/=]{1,4096})$","type":"string"}},"kid":{"maxLength":512,"minLength":1,"pattern":"^(?!\\s)([\\w=\\/+-]{1,512})$","type":"string"},"x5t#256":{"maxLength":128,"minLength":1,"pattern":"^(?!\\s)([\\w=\\/+-]{1,128})$","type":"string"},"kty":{"type":"string","enum":["RSA","EC","oct"]},"x5t#S256":{"maxLength":128,"minLength":1,"pattern":"^(?!\\s)([\\w=\\/+-]{1,128})$","type":"string"},"x5t":{"maxLength":128,"minLength":1,"pattern":"^(?!\\s)([\\w=\\/+-]{1,128})$","type":"string"},"key_ops":{"maxItems":10,"minItems":1,"type":"array","items":{"maxLength":16,"minLength":1,"pattern":"^(?!\\s)([\\w-]{1,16})$","type":"string"}},"x":{"maxLength":512,"minLength":1,"pattern":"^(?!\\s)([\\w]{1,512})$","type":"string"},"x5u":{"maxLength":263,"minLength":9,"pattern":"^(?!\\s)(https\\:\\/\\/[A-Za-z0-9.#&=%\\?\\-:\\/_\\s]{1,255})$","type":"string"},"y":{"maxLength":512,"minLength":1,"pattern":"^(?!\\s)([\\w]{1,512})$","type":"string"},"alg":{"maxLength":32,"minLength":1,"pattern":"^(?!\\s)([\\w+-]{1,32})$","type":"string"}}},"DCRResponseType":{"required":["client_id","client_name","contacts","grant_types","redirect_uris","response_types","scope","token_endpoint_auth_method"],"type":"object","properties":{"token_endpoint_auth_signing_alg":{"type":"string","enum":["PS256"]},"client_uri":{"type":"string"},"jwks":{"$ref":"#/components/schemas/JWKSObjectType"},"grant_types":{"type":"array","items":{"type":"string","enum":["client_credentials","authorization_code","implicit","refresh_token","urn:ietf:params:oauth:grant-type:jwt-bearer"]}},"application_type":{"type":"string","enum":["web","mobile"]},"logo_uri":{"type":"string"},"tls_client_auth_subject_dn":{"type":"string"},"redirect_uris":{"type":"array","items":{"type":"string"}},"token_endpoint_auth_method":{"type":"string","enum":["private_key_jwt"]},"client_id":{"type":"string"},"software_id":{"type":"string"},"client_secret_expires_at":{"type":"number"},"scope":{"type":"string"},"jwks_uri":{"type":"string"},"tos_uri":{"type":"string"},"software_version":{"type":"string"},"request_object_signing_alg":{"type":"string","enum":["PS256"]},"client_secret":{"type":"string"},"client_id_issued_at":{"type":"number"},"client_name":{"type":"string"},"contacts":{"type":"array","items":{"type":"string"}},"policy_uri":{"type":"string"},"response_types":{"type":"array","items":{"type":"string","enum":["code","token","id_token","id_token token","code id_token","code token","code id_token token","none"]}},"id_token_signed_response_alg":{"type":"string","enum":["PS256"]}}}}}}