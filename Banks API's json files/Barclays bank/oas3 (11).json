{"openapi":"3.0.0","info":{"title":"Rewards Pay with Points","description":"Enables users to view and redeem their rewards","version":"2.0"},"servers":[{"url":"https://sandbox-api.barclaysus.com:443/sandbox/rewards/v2"}],"paths":{"/cards/accounts/external/{externalAccountID}/rewards/balance":{"summary":"Operations by Account ID.","description":"Operations by Account ID.","get":{"tags":["Rewards-Pay with Points"],"summary":"Get current rewards balance for the given account and program attributes configured for a specific partner.","description":"Get current rewards balance for the given account.","operationId":"getRewardsBalance","parameters":[{"name":"Authorization","in":"header","description":"TIAA-US External token","required":true,"deprecated":false,"schema":{"type":"string"},"example":"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6Imctb09kUnc1TWFlTmcwbWpsN1VpczlXT010NCIsInBpLmF0bSI6IjQ2N3YifQ.eyJzY29wZSI6ImFjY291bnRzIiwiY2xpZW50X2lkIjoiR2FwQ2xpZW50IiwiaXNzIjoiVElBQSBERVYiLCJhdWQiOiJCRE4tVVMtREVWIiwianRpIjoia0F0c2JYYW5CdnZOSFBacVd6WEs4TlhzczlPSXozamdBT090IiwiZmlyc3ROYW1lIjoiSm9obiIsImxhc3ROYW1lIjoiU21pdGgiLCJmcmF1ZFRva2VuIjoiOThjYmVlNWEtOTU4MS00NTdlLTk3NTEtZjVlYzNlNWZiYTUwIiwiZnJhdWRUb2tlbklzc3VlVGltZSI6IjE2MzAwMDMyNTQiLCJhY2NvdW50cyI6WyIxMjM0NTY3OCIsIjk4NzY1NDMyIl0sInBhcnR5SWQiOiIxMjM0NTYiLCJ1c2VybmFtZSI6ImJhcmNsYXlzdXNlciIsImV4cCI6MTYzMDAwMTQ1NX0.Jkgb2A2HAOdLKaion8ff097GedtQkxtAV4Qxea538owLS8zaEvTm9kHBWOxmuNHIgP1V8mx3NUflwbY8A823Ut00wWqbUbB-cSV0idDaQJ2pKWHDFYbipvi5I7yPGj2BR-oHhQao1ZGlW6DyxYuZ12q8IK7LpKVWbCSPZ-fFAlD5HgH_FORq6Avc5oLH--Zcww63fI6gtZ48pwnXX2gM1aiSQ3lfvLXWVQ9fooAlP65LOW1MMjh5HOtrNvA7ObBSYepYzef5ykP2YvIz3OOS4hLhTo-3-iEbUDvkPx_mmz_pi7piXrMqQPfPnz5y2VkLOHTYfQJeQmVg60YTG7uPdw"},{"name":"externalAccountID","in":"path","description":"A unique id (similar to UUID) created for each customer account.","required":true,"deprecated":false,"schema":{"maxLength":36,"minLength":1,"pattern":"^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$","type":"string"},"example":"0dbcb7ee-6c59-483b-966a-44d11557665b"},{"name":"Correlation-ID","in":"header","description":"Unique identifier for each incoming request. The API caller must pass this in the header, which will be cascaded through the API call stack.\nThis is required to maintain compliance with the current Barclays REST standards.","required":true,"deprecated":false,"allowEmptyValue":false,"schema":{"maxLength":36,"minLength":36,"pattern":"^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$","type":"string"},"example":"7d444840-9dc0-11d1-b245-5ffdce74fad2"},{"name":"X-Caller-Id","in":"header","description":"The ID of external entity initiating the call. Set by the external API gateway and passed through the API stack.","required":false,"deprecated":false,"schema":{"maxLength":20,"minLength":3,"pattern":"^[A-Za-z0-9\\-_]{3,20}$","type":"string"},"example":"partner"}],"responses":{"200":{"description":"Contains information related to rewards balance for the given account.","headers":{"Cache-Control":{"$ref":"#/components/headers/Cache-Control"}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RewardBalanceDataV2"},"examples":{"RewardPointBalanceResponseV2":{"$ref":"#/components/examples/RewardBalanceResponse"}}}}},"400":{"description":"The request could not be understood by the server due to malformed syntax. The client SHOULD NOT repeat the request without modifications.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseType"},"examples":{"BadRequest":{"$ref":"#/components/examples/example-error-400-bad-request"}}}}},"401":{"description":"The user could not be authenticated for this request.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseType"},"examples":{"Unauthorized":{"$ref":"#/components/examples/example-error-401"}}}}},"500":{"description":"Server encountered an error during processing the request. It's s a generic error message, given when a more specific message is not available.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseType"},"examples":{"INTERNAL_SERVER_ERROR":{"$ref":"#/components/examples/example-error-500"},"ACCOUNT_INELIGIBLE":{"$ref":"#/components/examples/example-error-500_ACCOUNT_INELIGIBLE"},"BUSINESS_VALIDATION_FAILED":{"$ref":"#/components/examples/example-error-500_BUSINESS_VALIDATION_FAILED"},"TEMPORARY_UNPROCESSABLE":{"$ref":"#/components/examples/example-error-500_TEMPORARY_UNPROCESSABLE"}}}}},"403":{"description":"The user is not permitted to access the requested operation and it cannot be completed.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseType"},"examples":{"Forbidden":{"$ref":"#/components/examples/example-error-403"}}}}},"404":{"description":"Server was unable to locate a resource to complete the operation. This may be temporary or permanent.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseType"},"examples":{"NotFound":{"$ref":"#/components/examples/example-error-404"}}}}},"503":{"description":"Temporary maintenance of service, try again later. This is a temporary condition which will be alleviated after some delay.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseType"},"examples":{"ServiceUnavailable":{"$ref":"#/components/examples/example-error-503"}}}}},"429":{"description":"Server received a large number of requests from a single party in a given amount of time. Client is advised to retry after the agreed cool down period.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseType"},"examples":{"TooManyRequests":{"$ref":"#/components/examples/example-error-429"}}}}}},"deprecated":false}},"/cards/accounts/external/{externalAccountID}/rewards/redemption":{"summary":"Operations by Account ID.","description":"Operations by Account ID.","post":{"tags":["Rewards-Pay with Points"],"summary":"Fulfill statement credit for the given account and corresponding program attributes.","description":"Deducts rewards from the given account and posts a statement credit. Returns a redemption id for tracking.","operationId":"processRedemption","parameters":[{"name":"Authorization","in":"header","description":"TIAA-US External token","required":true,"deprecated":false,"schema":{"type":"string"},"example":"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6Imctb09kUnc1TWFlTmcwbWpsN1VpczlXT010NCIsInBpLmF0bSI6IjQ2N3YifQ.eyJzY29wZSI6ImFjY291bnRzIiwiY2xpZW50X2lkIjoiR2FwQ2xpZW50IiwiaXNzIjoiVElBQSBERVYiLCJhdWQiOiJCRE4tVVMtREVWIiwianRpIjoia0F0c2JYYW5CdnZOSFBacVd6WEs4TlhzczlPSXozamdBT090IiwiZmlyc3ROYW1lIjoiSm9obiIsImxhc3ROYW1lIjoiU21pdGgiLCJmcmF1ZFRva2VuIjoiOThjYmVlNWEtOTU4MS00NTdlLTk3NTEtZjVlYzNlNWZiYTUwIiwiZnJhdWRUb2tlbklzc3VlVGltZSI6IjE2MzAwMDMyNTQiLCJhY2NvdW50cyI6WyIxMjM0NTY3OCIsIjk4NzY1NDMyIl0sInBhcnR5SWQiOiIxMjM0NTYiLCJ1c2VybmFtZSI6ImJhcmNsYXlzdXNlciIsImV4cCI6MTYzMDAwMTQ1NX0.Jkgb2A2HAOdLKaion8ff097GedtQkxtAV4Qxea538owLS8zaEvTm9kHBWOxmuNHIgP1V8mx3NUflwbY8A823Ut00wWqbUbB-cSV0idDaQJ2pKWHDFYbipvi5I7yPGj2BR-oHhQao1ZGlW6DyxYuZ12q8IK7LpKVWbCSPZ-fFAlD5HgH_FORq6Avc5oLH--Zcww63fI6gtZ48pwnXX2gM1aiSQ3lfvLXWVQ9fooAlP65LOW1MMjh5HOtrNvA7ObBSYepYzef5ykP2YvIz3OOS4hLhTo-3-iEbUDvkPx_mmz_pi7piXrMqQPfPnz5y2VkLOHTYfQJeQmVg60YTG7uPdw"},{"name":"Content-Type","in":"header","description":"Content-Type","required":true,"deprecated":false,"allowEmptyValue":false,"schema":{"maxLength":35,"minLength":16,"pattern":"^[a-z0-9A-Z-/;= ]{16,35}$","type":"string"},"example":"application/json"},{"name":"externalAccountID","in":"path","description":"A unique id (similar to UUID) created for each customer account.","required":true,"deprecated":false,"schema":{"maxLength":36,"minLength":1,"pattern":"^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$","type":"string"},"example":"0dbcb7ee-6c59-483b-966a-44d11557665b"},{"name":"Correlation-ID","in":"header","description":"Unique identifier for each incoming request. The API caller must pass this in the header, which will be cascaded through the API call stack.\nThis is required to maintain compliance with the current Barclays REST standards.","required":true,"deprecated":false,"allowEmptyValue":false,"schema":{"maxLength":36,"minLength":36,"pattern":"^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$","type":"string"},"example":"7d444840-9dc0-11d1-b245-5ffdce74fad2"},{"name":"X-Caller-Id","in":"header","description":"The ID of external entity initiating the call. Set by the external API gateway and passed through the API stack.","required":false,"deprecated":false,"schema":{"maxLength":20,"minLength":3,"pattern":"^[A-Za-z0-9\\-_]{3,20}$","type":"string"},"example":"partner"}],"requestBody":{"description":"Contains information required for the redemption operation.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RedemptionRequestDataV2"}}},"required":true},"responses":{"200":{"description":"Contains information about the outcome of the redemption operation for the given account.","headers":{"Cache-Control":{"$ref":"#/components/headers/Cache-Control"}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RedemptionResponseDataV2"},"examples":{"RedemptionResponseV2":{"$ref":"#/components/examples/RewardRedeemResponse"}}}}},"400":{"description":"The request could not be understood by the server due to malformed syntax. The client SHOULD NOT repeat the request without modifications.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseType"},"examples":{"BadRequest":{"$ref":"#/components/examples/example-error-400-bad-request"}}}}},"401":{"description":"The user could not be authenticated for this request.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseType"},"examples":{"Unauthorized":{"$ref":"#/components/examples/example-error-401"}}}}},"500":{"description":"Server encountered an error during processing the request. It's s a generic error message, given when a more specific message is not available.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseType"},"examples":{"INTERNAL_SERVER_ERROR":{"$ref":"#/components/examples/example-error-500"},"BAD_STATUS_ACCOUNT":{"$ref":"#/components/examples/example-error-500_BAD_STATUS_ACCOUNT"},"INSUFFICIENT_BALANCE":{"$ref":"#/components/examples/example-error-500_INSUFFICIENT_BALANCE"},"ACCOUNT_INELIGIBLE":{"$ref":"#/components/examples/example-error-500_ACCOUNT_INELIGIBLE"},"BUSINESS_VALIDATION_FAILED":{"$ref":"#/components/examples/example-error-500_BUSINESS_VALIDATION_FAILED"},"TEMPORARY_UNPROCESSABLE":{"$ref":"#/components/examples/example-error-500_TEMPORARY_UNPROCESSABLE"}}}}},"403":{"description":"The user is not permitted to access the requested operation and it cannot be completed.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseType"},"examples":{"Forbidden":{"$ref":"#/components/examples/example-error-403"}}}}},"404":{"description":"Server was unable to locate a resource to complete the operation. This may be temporary or permanent.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseType"},"examples":{"NotFound":{"$ref":"#/components/examples/example-error-404"}}}}},"503":{"description":"Temporary maintenance of service, try again later. This is a temporary condition which will be alleviated after some delay.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseType"},"examples":{"ServiceUnavailable":{"$ref":"#/components/examples/example-error-503"}}}}},"429":{"description":"Server received a large number of requests from a single party in a given amount of time. Client is advised to retry after the agreed cool down period.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseType"},"examples":{"TooManyRequests":{"$ref":"#/components/examples/example-error-429"}}}}}},"deprecated":false}}},"components":{"schemas":{"RewardBalanceDataV2":{"required":["data"],"type":"object","properties":{"data":{"$ref":"#/components/schemas/RewardBalanceV2"}},"additionalProperties":false,"description":"Root object that holds rewards balance and program attributes for the given account.","nullable":false,"deprecated":false},"RedemptionResponseDataV2":{"required":["data"],"type":"object","properties":{"data":{"$ref":"#/components/schemas/RedemptionResponseV2"}},"additionalProperties":false,"description":"Root object that holds a redemption id and current rewards balance upon a successful redemption.","nullable":false,"deprecated":false},"ErrorType":{"required":["code","id","title"],"type":"object","properties":{"id":{"maxLength":36,"minLength":36,"pattern":"^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$","type":"string","description":"Generated message identifier for particular request, helping to locate server logs.","example":"1c4717c4-d4a5-e3f3-4a71-b868908763ff"},"code":{"maxLength":100,"minLength":1,"pattern":"^[a-zA-Z0-9_]{1,100}$","type":"string","description":"Machine readable, unique code of the message related to particular case within operation execution.","example":"ACCOUNT_NUMBER_NOT_FOUND"},"title":{"maxLength":250,"minLength":1,"pattern":"^[a-zA-Z0-9\\s\"=,']{1,250}$","type":"string","description":"Short description of the error. Not for displaying purposes.","example":"The authorization credentials required for this request are invalid"},"detail":{"maxLength":250,"minLength":1,"pattern":"^[a-zA-Z0-9\\s\"=,']{1,250}$","type":"string","description":"Provides additional low-level details about the error to assist with troubleshooting. Not for displaying purposes."}},"additionalProperties":false,"description":"Message details - additional operation execution information."},"RewardSummaryV2":{"required":["availableBalance","rewardType"],"type":"object","properties":{"availableBalance":{"type":"number","description":"Current rewards balance for the given account.","example":2500},"rewardType":{"maxLength":16,"minLength":1,"pattern":"^[a-zA-Z]{1,16}$","type":"string","description":"Rewards currency type - POINTS/CASH/MILES.","example":"POINTS"},"currencyCode":{"maxLength":4,"minLength":1,"pattern":"^[a-zA-Z]{1,4}$","type":"string","description":"Three letter code to represent rewards currency.","example":"USD"}},"additionalProperties":false,"description":"This object holds the current rewards balance and related values."},"RedemptionRequestDataV2":{"required":["data"],"type":"object","properties":{"data":{"$ref":"#/components/schemas/RedemptionRequestV2"}},"additionalProperties":false,"description":"Root object that holds statement credit amount and related program attributes.","nullable":false,"deprecated":false},"ErrorResponseType":{"type":"object","properties":{"meta":{"type":"object","additionalProperties":true,"description":"Contains Non-standard meta information"},"errors":{"maxItems":50,"minItems":0,"type":"array","description":"Contains one or more error messages and is mutually exclusive with the data item.\nThis will not be returned in success scenarios.\n","items":{"$ref":"#/components/schemas/ErrorType"}}},"additionalProperties":false,"description":"An API error response.\n","nullable":false,"deprecated":false},"RewardBalanceV2":{"required":["programDetail","redemptionEligibility","rewardSummary"],"type":"object","properties":{"redemptionEligibility":{"type":"boolean","description":"True if account is eligible to redeem the current rewards balance, determined based on if the account is in good standing with regards to pending payments and other account statuses.","example":true},"rewardSummary":{"$ref":"#/components/schemas/RewardSummaryV2"},"programDetail":{"$ref":"#/components/schemas/ProgramDetailV2"}},"additionalProperties":false,"description":"Contains rewards balance and program configuration.","nullable":false,"deprecated":false},"RedemptionInfo":{"type":"object","properties":{"authorizationCode":{"maxLength":50,"minLength":1,"pattern":"^[a-zA-Z0-9]{1,50}$","type":"string","description":"Authorization code generated by merchant at point of sale.","example":"5R20BK11W6"},"transactionID":{"type":"number","description":"Transaction id generated by merchant at point of sale.","example":584922},"transactionDesc":{"maxLength":200,"minLength":1,"pattern":"^.{1,200}$","type":"string","description":"Transaction description for a redemption.","example":"Online order placed at Expedia.com for a hotel booking"}},"additionalProperties":false,"description":"Attributes pertaining to a redemption.","nullable":true},"CatalogV2":{"required":["catalogId","catalogType","conversionRate","maxRedeemPoints","minRedeemPoints"],"type":"object","properties":{"catalogId":{"maxLength":10,"minLength":10,"pattern":"^[0-9a-zA-Z]{10}$","type":"string","description":"Unique id set up for a catalog.","example":"C9AP78DS9K"},"catalogType":{"maxLength":32,"minLength":1,"pattern":"^[a-zA-Z]{1,32}$","type":"string","description":"Defines the type of redemption - STMTCR, ACH, SWEEP, PWP, EGIFT, PGIFT.","example":"STMTCR"},"conversionRate":{"type":"number","description":"Denotes the dollar value of rewards (example: 1 point = $0.01).","example":0.01},"description":{"maxLength":256,"minLength":1,"pattern":"^[a-zA-Z\\s\",.']{1,256}$","type":"string","description":"A short description of the catalog.","example":"Statement Credit"},"minRedeemPoints":{"type":"number","description":"Minimum rewards balance required to redeem for the given catalog.","example":2500},"maxRedeemPoints":{"type":"number","description":"Maximum rewards that can be redeemed for the given catalog. If empty, customer can redeem up to the current rewards balance.","example":50000}},"additionalProperties":false},"ProgramDetailV2":{"required":["catalogs","programId"],"type":"object","properties":{"programId":{"maxLength":7,"minLength":7,"pattern":"^[0-9a-zA-Z]{7}$","type":"string","description":"Unique id set up for a program.","example":"A7DV56B"},"description":{"maxLength":256,"minLength":1,"pattern":"^[a-zA-Z\\s\",.']{1,256}$","type":"string","description":"A short description of the program.","example":"Program For Statement Credit"},"catalogs":{"maxItems":50,"minItems":1,"type":"array","description":"List of catalogs set up for the program.","items":{"$ref":"#/components/schemas/CatalogV2"}}},"additionalProperties":false,"description":"This object holds the program attributes configured for a specific partner."},"RedemptionResponseV2":{"required":["redemptionId","redemptionReferenceNumber","rewardSummary"],"type":"object","properties":{"redemptionReferenceNumber":{"maxLength":36,"minLength":36,"pattern":"^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$","type":"string","description":"UUID received in the API request will be sent back in the API response upon a successful redemption.","example":"1c4717c4-d4a5-e3f3-4a71-b868908763ff"},"redemptionId":{"maxLength":36,"minLength":36,"pattern":"^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$","type":"string","description":"Unique id generated by Barclays upon a successful redemption.","example":"1c4717c4-d4a5-e3f3-4a71-b868908763ff"},"rewardSummary":{"$ref":"#/components/schemas/RewardSummaryV2"}},"additionalProperties":false,"description":"Contains redemption id and current rewards balance.","nullable":false,"deprecated":false},"RedemptionRequestV2":{"required":["catalogId","programId","redemptionAmount","redemptionReferenceNumber"],"type":"object","properties":{"redemptionReferenceNumber":{"maxLength":36,"minLength":36,"pattern":"^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$","type":"string","description":"UUID to keep track of each redemption request from a partner. Generated by the partner and passed in each request.","example":"1c4717c4-d4a5-e3f3-4a71-b868908763ff"},"redemptionAmount":{"type":"number","description":"Dollar value of the rewards to be redeemed. Minimum and Maximum limits depend on program setup.","example":50},"valuePerPoint":{"type":"number","description":"Denotes the dollar value of rewards (ex: 1 point = $0.01).","example":0.01},"programId":{"maxLength":7,"minLength":7,"pattern":"^[0-9a-zA-Z]{7}$","type":"string","description":"Program id obtained from the response of /balance API.","example":"A7DV56B"},"catalogId":{"maxLength":10,"minLength":10,"pattern":"^[0-9a-zA-Z]{10}$","type":"string","description":"Catalog id obtained from the response of /balance API.","example":"C9AP78DS9K"},"redemptionInfo":{"$ref":"#/components/schemas/RedemptionInfo"}},"additionalProperties":false,"description":"Statement credit amount and related program attributes.","nullable":false,"deprecated":false}},"responses":{"BadRequest":{"description":"The request could not be understood by the server due to malformed syntax. The client SHOULD NOT repeat the request without modifications.\n","headers":{"Cache-Control":{"$ref":"#/components/headers/Cache-Control"}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseType"},"examples":{"BadRequest":{"$ref":"#/components/examples/example-error-400-bad-request"}}}}},"RewardPointBalanceResponseV2":{"description":"Contains information related to rewards balance for the given account.","headers":{"Cache-Control":{"$ref":"#/components/headers/Cache-Control"}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RewardBalanceDataV2"},"examples":{"RewardPointBalanceResponseV2":{"$ref":"#/components/examples/RewardBalanceResponse"}}}}},"TooManyRequests":{"description":"Server received a large number of requests from a single party in a given amount of time. Client is advised to retry after the agreed cool down period.\n","headers":{"Cache-Control":{"$ref":"#/components/headers/Cache-Control"}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseType"},"examples":{"TooManyRequests":{"$ref":"#/components/examples/example-error-429"}}}}},"Unauthorized":{"description":"The user could not be authenticated for this request.\n","headers":{"Cache-Control":{"$ref":"#/components/headers/Cache-Control"}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseType"},"examples":{"Unauthorized":{"$ref":"#/components/examples/example-error-401"}}}}},"Forbidden":{"description":"The user is not permitted to access the requested operation and it cannot be completed.\n","headers":{"Cache-Control":{"$ref":"#/components/headers/Cache-Control"}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseType"},"examples":{"Forbidden":{"$ref":"#/components/examples/example-error-403"}}}}},"ServiceUnavailable":{"description":"Temporary maintenance of service, try again later. This is a temporary condition which will be alleviated after some delay.\n","headers":{"Cache-Control":{"$ref":"#/components/headers/Cache-Control"}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseType"},"examples":{"ServiceUnavailable":{"$ref":"#/components/examples/example-error-503"}}}}},"500_redemption":{"description":"Server encountered an error during processing the request. It's s a generic error message, given when a more specific message is not available.\n","headers":{"Cache-Control":{"$ref":"#/components/headers/Cache-Control"}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseType"},"examples":{"INTERNAL_SERVER_ERROR":{"$ref":"#/components/examples/example-error-500"},"BAD_STATUS_ACCOUNT":{"$ref":"#/components/examples/example-error-500_BAD_STATUS_ACCOUNT"},"INSUFFICIENT_BALANCE":{"$ref":"#/components/examples/example-error-500_INSUFFICIENT_BALANCE"},"ACCOUNT_INELIGIBLE":{"$ref":"#/components/examples/example-error-500_ACCOUNT_INELIGIBLE"},"BUSINESS_VALIDATION_FAILED":{"$ref":"#/components/examples/example-error-500_BUSINESS_VALIDATION_FAILED"},"TEMPORARY_UNPROCESSABLE":{"$ref":"#/components/examples/example-error-500_TEMPORARY_UNPROCESSABLE"}}}}},"500_getBalance":{"description":"Server encountered an error during processing the request. It's s a generic error message, given when a more specific message is not available.\n","headers":{"Cache-Control":{"$ref":"#/components/headers/Cache-Control"}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseType"},"examples":{"INTERNAL_SERVER_ERROR":{"$ref":"#/components/examples/example-error-500"},"ACCOUNT_INELIGIBLE":{"$ref":"#/components/examples/example-error-500_ACCOUNT_INELIGIBLE"},"BUSINESS_VALIDATION_FAILED":{"$ref":"#/components/examples/example-error-500_BUSINESS_VALIDATION_FAILED"},"TEMPORARY_UNPROCESSABLE":{"$ref":"#/components/examples/example-error-500_TEMPORARY_UNPROCESSABLE"}}}}},"NotFound":{"description":"Server was unable to locate a resource to complete the operation. This may be temporary or permanent.\n","headers":{"Cache-Control":{"$ref":"#/components/headers/Cache-Control"}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseType"},"examples":{"NotFound":{"$ref":"#/components/examples/example-error-404"}}}}},"RedemptionResponseV2":{"description":"Contains information about the outcome of the redemption operation for the given account.","headers":{"Cache-Control":{"$ref":"#/components/headers/Cache-Control"}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RedemptionResponseDataV2"},"examples":{"RedemptionResponseV2":{"$ref":"#/components/examples/RewardRedeemResponse"}}}}}},"parameters":{"Authorization":{"name":"Authorization","in":"header","description":"Bearer Token\n","required":true,"deprecated":false,"allowEmptyValue":false,"schema":{"maxLength":2048,"minLength":32,"pattern":"^[A-Za-z0-9\\-_\\.\\ ]{32,2048}$","type":"string"},"example":"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6Imctb09kUnc1TWFlTmcwbWpsN1VpczlXT010NCIsInBpLmF0bSI6IjQ2N3YifQ.eyJzY29wZSI6ImFjY291bnRzIiwiY2xpZW50X2lkIjoiR2FwQ2xpZW50IiwiaXNzIjoiVElBQSBERVYiLCJhdWQiOiJCRE4tVVMtREVWIiwianRpIjoia0F0c2JYYW5CdnZOSFBacVd6WEs4TlhzczlPSXozamdBT090IiwiZmlyc3ROYW1lIjoiSm9obiIsImxhc3ROYW1lIjoiU21pdGgiLCJmcmF1ZFRva2VuIjoiOThjYmVlNWEtOTU4MS00NTdlLTk3NTEtZjVlYzNlNWZiYTUwIiwiZnJhdWRUb2tlbklzc3VlVGltZSI6IjE2MzAwMDMyNTQiLCJhY2NvdW50cyI6WyIxMjM0NTY3OCIsIjk4NzY1NDMyIl0sInBhcnR5SWQiOiIxMjM0NTYiLCJ1c2VybmFtZSI6ImJhcmNsYXlzdXNlciIsImV4cCI6MTYzMDAwMTQ1NX0.Jkgb2A2HAOdLKaion8ff097GedtQkxtAV4Qxea538owLS8zaEvTm9kHBWOxmuNHIgP1V8mx3NUflwbY8A823Ut00wWqbUbB-cSV0idDaQJ2pKWHDFYbipvi5I7yPGj2BR-oHhQao1ZGlW6DyxYuZ12q8IK7LpKVWbCSPZ-fFAlD5HgH_FORq6Avc5oLH--Zcww63fI6gtZ48pwnXX2gM1aiSQ3lfvLXWVQ9fooAlP65LOW1MMjh5HOtrNvA7ObBSYepYzef5ykP2YvIz3OOS4hLhTo-3-iEbUDvkPx_mmz_pi7piXrMqQPfPnz5y2VkLOHTYfQJeQmVg60YTG7uPdw"},"Correlation-ID":{"name":"Correlation-ID","in":"header","description":"Unique identifier for each incoming request. The API caller must pass this in the header, which will be cascaded through the API call stack.\nThis is required to maintain compliance with the current Barclays REST standards.\n","required":true,"deprecated":false,"allowEmptyValue":false,"schema":{"maxLength":36,"minLength":36,"pattern":"^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$","type":"string"},"example":"7d444840-9dc0-11d1-b245-5ffdce74fad2"},"ExternalAccountIdPath":{"name":"externalAccountID","in":"path","description":"A unique id (similar to UUID) created for each customer account.","required":true,"deprecated":false,"schema":{"maxLength":36,"minLength":1,"pattern":"^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$","type":"string"},"example":"0dbcb7ee-6c59-483b-966a-44d11557665b"},"X-Caller-Id":{"name":"X-Caller-Id","in":"header","description":"The ID of external entity initiating the call. Set by the external API gateway and passed through the API stack.\n","required":false,"deprecated":false,"schema":{"maxLength":20,"minLength":3,"pattern":"^[A-Za-z0-9\\-_]{3,20}$","type":"string"},"example":"partner"},"oauth_clientId":{"name":"oauth_clientId","in":"header","description":"OAuth Client ID used for partner entitlement check.\n","required":true,"deprecated":false,"allowEmptyValue":false,"schema":{"maxLength":256,"minLength":1,"pattern":"^[a-zA-Z0-9.-]{1,256}$","type":"string"},"example":"bdn-68EwxNCdDi65Y2FV6wxupfsoD3ilveYxDqok0LD5"},"Content-Type":{"name":"Content-Type","in":"header","description":"Content-Type","required":true,"deprecated":false,"allowEmptyValue":false,"schema":{"maxLength":35,"minLength":16,"pattern":"^[a-z0-9A-Z-/;= ]{16,35}$","type":"string"},"example":"application/json"}},"examples":{"example-error-404":{"value":{"errors":[{"id":"1c4717c4-e3f3-4071-8b86-b868908763ff","code":"RESOURCE_NOT_FOUND","title":"The requested operation failed because a resource associated with the request could not be found","detail":"Couldn't locate the account"}]}},"example-error-503":{"value":{"errors":[{"id":"1c4717c4-e3f3-4071-8b86-b868908763ff","code":"SERVICE_UNAVAILABLE","title":"The server is currently unavailable","detail":"Scheduled service outage starting from Wednesday, 04 Jul 2050 0100 GMT until Wednesday, 04 Jul 2050 0500 GMT"}]}},"example-error-429":{"value":{"errors":[{"id":"9709-4675-2456-7801","code":"TOO_MANY_REQUESTS","title":"Too many requests","detail":"The client sent too many requests and server is not able to serve them all at the moment"}]}},"example-error-400-bad-request":{"value":{"errors":[{"id":"1c4717c4-e3f3-4071-8b86-b868908763ff","code":"BAD_REQUEST","title":"The request is invalid or not properly formed","detail":"Invalid request, field name does not match with the API spec"}]}},"example-error-500_BAD_STATUS_ACCOUNT":{"value":{"errors":[{"id":"1c4717c4-e3f3-4071-8b86-b868908763ff","code":"BAD_STATUS_ACCOUNT","title":"Account is in bad status","detail":"Account is in CLOSED status, request cannot be processed"}]}},"example-error-500_INSUFFICIENT_BALANCE":{"value":{"errors":[{"id":"1c4717c4-e3f3-4071-8b86-b868908763ff","code":"INSUFFICIENT_BALANCE","title":"Insufficient reward balance on the account","detail":"Request cannot be processed due to insufficient reward balance"}]}},"RewardRedeemRequestV2":{"value":{"data":{"redemptionReferenceNumber":"1c4717c4-e3f3-4a71-8b67-b868908763ff","redemptionAmount":50,"valuePerPoint":0.01,"programId":"A7DV56B","catalogId":"C9AP78DS9K","redemptionInfo":{"authorizationCode":"5R20BK11W6","transactionID":584922,"transactionDesc":"Online order placed at Expedia.com for a hotel booking"}}}},"RewardBalanceResponse":{"value":{"data":{"redemptionEligibility":true,"rewardSummary":{"availableBalance":2500,"rewardType":"POINTS","currencyCode":"USD"},"programDetail":{"programId":"A7DV56B","description":"Program For Statement Credit","catalogs":[{"catalogId":"C9AP78DS9K","catalogType":"STMTCR","conversionRate":0.01,"description":"Statement Credit Redemption","minRedeemPoints":2000,"maxRedeemPoints":50000}]}}}},"example-error-500_BUSINESS_VALIDATION_FAILED":{"value":{"errors":[{"id":"1c4717c4-e3f3-4071-8b86-b868908763ff","code":"BUSINESS_VALIDATION_FAILED","title":"Request failed while validating the account","detail":"Request cannot be processed, account validation failure"}]}},"example-error-500_TEMPORARY_UNPROCESSABLE":{"value":{"errors":[{"id":"1c4717c4-e3f3-4071-8b86-b868908763ff","code":"TEMPORARY_UNPROCESSABLE","title":"Request unprocessable momentarily","detail":"Request cannot be processed momentarily"}]}},"example-error-500_ACCOUNT_INELIGIBLE":{"value":{"errors":[{"id":"1c4717c4-e3f3-4071-8b86-b868908763ff","code":"ACCOUNT_INELIGIBLE","title":"Account is not eligible for this program","detail":"Request cannot be processed, account is not eligible for this program"}]}},"RewardRedeemResponse":{"value":{"data":{"redemptionReferenceNumber":"1c4717c4-e3f3-4a71-8b67-b868908763ff","redemptionId":"1c4717c4-e3f3-4a71-8b67-b868908763ff","rewardSummary":{"availableBalance":2500,"rewardType":"POINTS","currencyCode":"USD"}}}},"example-error-401":{"value":{"errors":[{"id":"1c4717c4-e3f3-4071-8b86-b868908763ff","code":"UNAUTHORIZED","title":"The authorization credentials required for this request are invalid","detail":"The authorization credentials required for this request are invalid"}]}},"example-error-500":{"value":{"errors":[{"id":"1c4717c4-e3f3-4071-8b86-b868908763ff","code":"INTERNAL_SERVER_ERROR","title":"The request failed due to an internal error","detail":"Downstream service call failure while retrieving rewards balance"}]}},"example-error-403":{"value":{"errors":[{"id":"1c4717c4-e3f3-4071-8b86-b868908763ff","code":"ACCESS_FORBIDDEN","title":"The user is not permitted to access the requested operation and it cannot be completed","detail":"The user is not permitted to access the requested operation and it cannot be completed"}]}}},"requestBodies":{"RedemptionRequestV2":{"description":"Contains information required for the redemption operation.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RedemptionRequestDataV2"},"examples":{"RedemptionRequestV2":{"$ref":"#/components/examples/RewardRedeemRequestV2"}}}},"required":true}},"headers":{"Cache-Control":{"description":"GIS mandatory response header. This is added by the Cognac sidecar.","schema":{"maxLength":35,"minLength":35,"pattern":"^no-cache, no-store, must-revalidate$","type":"string","nullable":false,"example":"no-cache, no-store, must-revalidate","deprecated":false,"default":"no-cache, no-store, must-revalidate"}}},"securitySchemes":{"ExternalTiaaUsCCAuth":{"type":"oauth2","description":"OAuth2.0 Client Credentials Grant authentication using TIAA-US for external APIs","flows":{"clientCredentials":{"tokenUrl":"https://token.tiaa-dev.us.barclays.intranet:8443/as/token.oauth2","scopes":{"read":"read only","write":"write only"}}}}}},"tags":[{"name":"Rewards-Pay with Points"}]}